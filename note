bbs论坛
网络安全
发布部署管理的方案

论坛功能:
在首页看到所有帖子 /topic/
帖子的详细页面/topic/<id> (mongo/现在暂时是txt) 内包含各种回复 在Model类里进行数据库的无缝切换, 以后写程序也要追求这样的效果,
一个框架对于我们而言, 有两个功能很重要:
1. 注册路由以及method;
2. 获取request数据(在path中或body里), 封装好的(request.form等)或没封装的(request.get_data())
模板(Model)和试图(view)与框架的关系不大


markdown 之后再做

拷贝页面的方法: Ctrl+s 保存完整的页面(得到一个html文件和一个文件夹(内有css文件))

嵌套层次过深: 不必要的嵌套过多

setattr 的使用

2
reply功能与点击用户名到用户主页功能
url_for的参数省略规则
jinja for 下标
jinja的文档里有很多有用的功能
setInterval 函数
moment.js

web安全
csrf 跨站请求伪造 (点击领取金币<a href="http://localhost:2000/topic/delete?id=1">)
    <img src="http://localhost:2000/topic/delete?id=1"> 浏览器自动请求
    也可以有post请求
    解决方法 确保用户从自己的网站链接进入 在页面中插入一个隐藏的input字段 字段内容是随机生成的
验证码的两个功能: 防止机器人和csrf(外面的链接没有验证码, 或者是错的)

xss
用户发送脚本内容 script 可以执行代码(比如说拿到用户的cookie)


服务器部署
wsgi.py
gunicorn host一个pythonweb服务器
supervisor 监控 自动重启
nginx web服务器 gunicorn之前
nginx可以一次配置n个程序, 映射到不同的gunicorn端口, gunicorn不可能独占一个80端口, 由nginx占用80端口
gunicorn 用于运行我们的程序, nginx用来作服务器把请求转发给gunicorn, supervisor用于监控所有程序, 确保一直在运行
尽量不要在服务器上改程序, 只运行程序














